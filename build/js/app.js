function iniciarApp(){navegacionFija(),crearGaleria(),scrollNav()}function navegacionFija(){const e=document.querySelector(".header"),t=document.querySelector(".sobre-festival"),s=document.querySelector("body");window.addEventListener("scroll",(function(){t.getBoundingClientRect().bottom<0?(e.classList.add("fijo"),s.classList.add("body-scroll")):(e.classList.remove("fijo"),s.classList.remove("body-scroll"))}))}function crearGaleria(){const e=document.querySelector(".galeria-imagenes");for(let t=1;t<=12;t++){const s=document.createElement("picture");s.innerHTML=`\n            <source srcset="build/img/thumb/${t}.avif" type="image/avif">\n            <source srcset="build/img/thumb/${t}.webp" type="image/webp">\n            <img loading="lazy" width="200" height="300" src="build/img/thumb/${t}.jpg" alt="imagen galeria">\n        `,s.onclick=function(){mostrarImagen(t)},e.appendChild(s)}}function mostrarImagen(e){const t=document.createElement("picture");t.innerHTML=`\n        <source srcset="build/img/grande/${e}.avif" type="image/avif">\n        <source srcset="build/img/grande/${e}.webp" type="image/webp">\n        <img loading="lazy" width="200" height="300" src="build/img/grande/${e}.jpg" alt="imagen galeria">\n    `;const s=document.createElement("DIV");s.appendChild(t),s.classList.add("overlay"),s.onclick=function(){document.querySelector("body").classList.remove("fijar-body"),s.remove()};const n=document.createElement("P");n.textContent="X",n.classList.add("btn-cerrar"),n.onclick=function(){document.querySelector("body").classList.remove("fijar-body"),s.remove()},s.appendChild(n);const o=document.querySelector("body");o.appendChild(s),o.classList.add("fijar-body")}document.addEventListener("DOMContentLoaded",(function(){iniciarApp()}));var config={apiKey:"",authDomain:"",databaseURL:"",projectId:"",storageBucket:"",messagingSenderId:""};firebase.initializeApp(config);const init=function(){const e=document.querySelector(".js-file__input"),t=document.querySelector(".js-dropzone");document.querySelector(".file__input-label-button").addEventListener("click",(function(t){t.preventDefault(),e.click()})),e.addEventListener("change",(function(t){const s=fileValidation([...e.files]);createFileDOMNode(s)})),t.addEventListener("dragover",(function(e){e.preventDefault()})),t.addEventListener("drop",(function(e){e.preventDefault();const t=getArrayOfFileData([...e.dataTransfer.items]),s=fileValidation(t);createFileDOMNode(s)}))},fileValidation=function(e){const t=document.querySelector(".file-upload__error"),s=[],n=["png","jpg","doc","xls","pdf","ai","psd"];return e.forEach(e=>{const o=getFileExtension(e);if(-1===n.indexOf(o)){let e="Please upload a .doc, .png, .psd, .pdf, .ai, .xls or .jpg file only.";t.style.display="block",t.textContent=e}else t.style.display="none",s.push(e)}),s},getArrayOfFileData=function(e){const t=[];return e.forEach(e=>{"file"===e.kind&&t.push(e.getAsFile())}),t},createFileDOMNode=function(e){const t=document.querySelector(".js-file__list");e.forEach(e=>{const s=document.createElement("li"),n=document.createElement("div"),o=document.createElement("img"),i=document.createElement("span"),a=document.createElement("img"),c=document.createElement("progress");t.appendChild(s),s.appendChild(o),s.appendChild(n),n.appendChild(i),n.appendChild(a),n.appendChild(c),s.classList.add("file-output__list-item"),n.classList.add("file-details__container"),o.classList.add("file-output__list-item-image"),a.classList.add("file-output__list-item--is-complete"),i.classList.add("file-output__list-item-name"),c.classList.add("file-output__progress-bar"),s.setAttribute("role","listitem"),o.setAttribute("role","image"),i.textContent=truncateString(e.name,25);const r=getFileExtension(e);setAssociatedSVGWithFileType(r,o),updateDatabase(e,c,i,o,a)})},updateDatabase=function(e,t,s,n,o){let i=firebase.storage().ref("myFiles/"+e.name).put(e);t.value=0,t.max=100,i.on("state_changed",(function(e){const s=e.bytesTransferred/e.totalBytes*100;t.value=s,t.classList.add("progress-bar--in-progress"),o.src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/2684911/icon-close.svg"}),(function(e){console.log("An error has occured!")}),(function(){s.style.opacity="1",n.style.opacity="1",t.classList.add("progress-bar--is-finished"),o.src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/2684911/icon-check.svg"}))},getFileExtension=function(e){return e.name.split(".").pop()},setAssociatedSVGWithFileType=function(e,t){switch(e){case"jpg":t.setAttribute("src","https://s3-us-west-2.amazonaws.com/s.cdpn.io/2684911/icon-file-jpg.svg");break;case"png":t.setAttribute("src","https://s3-us-west-2.amazonaws.com/s.cdpn.io/2684911/icon-file-png.svg");break;case"doc":t.setAttribute("src","https://s3-us-west-2.amazonaws.com/s.cdpn.io/2684911/icon-file-doc.svg");break;case"ai":t.setAttribute("src","https://s3-us-west-2.amazonaws.com/s.cdpn.io/2684911/icon-file-ai.svg");break;case"psd":t.setAttribute("src","https://s3-us-west-2.amazonaws.com/s.cdpn.io/2684911/icon-file-psd.svg");break;case"pdf":t.setAttribute("src","https://s3-us-west-2.amazonaws.com/s.cdpn.io/2684911/icon-file-pdf.svg");break;case"xls":t.setAttribute("src","https://s3-us-west-2.amazonaws.com/s.cdpn.io/2684911/icon-file-xls.svg");break;default:return""}},truncateString=function(e,t){return e.length>t?e.slice(0,t)+"...":e};init();const regLink=document.querySelector(".reg"),regForm=document.querySelector(".register-form"),logLink=document.querySelector(".log"),logForm=document.querySelector(".login-form");regLink.addEventListener("click",()=>{logForm.classList.add("hide"),regForm.classList.remove("hide")}),logLink.addEventListener("click",()=>{regForm.classList.add("hide"),logForm.classList.remove("hide")});const mobileScreen=window.matchMedia("(max-width: 990px)");document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".dashboard-nav-dropdown-toggle").forEach((function(e){e.addEventListener("click",(function(){const e=this.closest(".dashboard-nav-dropdown");e.classList.toggle("show"),e.querySelectorAll(".dashboard-nav-dropdown").forEach((function(e){e.classList.remove("show")})),Array.from(this.parentNode.children).forEach((function(e){e!==this&&e.classList.remove("show")}),this)}))})),document.querySelectorAll(".menu-toggle").forEach((function(e){e.addEventListener("click",(function(){mobileScreen.matches?document.querySelector(".dashboard-nav").classList.toggle("mobile-show"):document.querySelector(".dashboard").classList.toggle("dashboard-compact")}))}))}));
//# sourceMappingURL=app.js.map
